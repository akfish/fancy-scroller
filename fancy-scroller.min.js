!function(t,i){function e(t,i){var e=document.createElement(t);return i&&(e.className=i.join(" ")),e}function n(){for(var t={},i=0;i<arguments.length;i++)for(var e in arguments[i])t[e]=arguments[i][e];return t}!function(){if("performance"in window==!1&&(window.performance={}),Date.now=Date.now||function(){return(new Date).getTime()},"now"in window.performance==!1){var t=Date.now();performance.timing&&performance.timing.navigationStart&&(t=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-t}}}(),t.LOADED_STYLES=t.LOADED_STYLES||{},t.loadStyle=function(i){if(!t.LOADED_STYLES[i]){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href",i),document.getElementsByTagName("head")[0].appendChild(e),t.LOADED_STYLES[i]=!0}},t.isMobile=function(){var t=!1;return function(i){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(i)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(i.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t};t.ready=function(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)};var o={friction:.9,maxEndSpringLength:64,overlapFactor:.6,snapTime:300,snapSectionTop:!0,snapSectionBottom:!0,showMobileScrollIndicator:!0,hashPrefix:"section-",autoSetHash:!1,debug:!1,animationEpsilon:.01,enablePageKeyNavigation:!0,keyEventSource:"window",maxSnapableVelocity:.1,idleTimeout:1e3},s={log:function(){console.log.apply(console,arguments)},warn:function(){console.warn.apply(console,arguments)},error:function(){console.error.apply(console,arguments)}},a={log:function(){},warn:function(){},error:function(){}},r=function(i,r){this.opts=n(o,r),this.console=this.opts.debug?s:a,this.container=i,t.isMobile()&&(this.container.className+="is-mobile"),this.el=e("div",["wrapper"]),this.el.tabIndexAttr=document.createAttribute("tabindex"),this.el.tabIndexAttr.value=-1,this.el.setAttributeNode(this.el.tabIndexAttr),this.container.appendChild(this.el),this.strecher=e("div",["strecher"]),this.inner=e("div",["inner"]),this.indicator=e("div",["mobile-scroll-indicator"]),this.indicator.activeAttr=document.createAttribute("active"),this.indicator.activeAttr.value=!1,this.indicator.setAttributeNode(this.indicator.activeAttr),this.opts.showMobileScrollIndicator||(this.indicator.style.display="none"),this.el.appendChild(this.strecher),this.el.appendChild(this.inner),this.el.appendChild(this.indicator),this.sections=this.container.querySelectorAll(".section");for(var h=0;h<this.sections.length;h++)this.inner.appendChild(this.sections[h]);if(this._mouseDown=!1,this.initialClassName=this.el.className,this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop,this._movement={moving:!1,lastPosition:0,lastTime:0,startPosition:0,startTime:0,dY:0,velocity:0,dT:0},this._animation={epsilon:this.opts.animationEpsilon,animating:!1,shouldCancel:!1,lastTick:0,tickCallback:null,targetState:null,completeCallback:null},this._handlers={},document.addEventListener("scroll",this.onScroll.bind(this)),window.addEventListener("resize",this.onResize.bind(this)),window.addEventListener("hashchange",this.onHashChange.bind(this)),this.el.addEventListener("touchstart",this.onTouchStart.bind(this)),this.el.addEventListener("touchmove",this.onTouchMove.bind(this)),this.el.addEventListener("touchend",this.onTouchEnd.bind(this)),this.el.addEventListener("mousedown",this.onMouseDown.bind(this)),this.el.addEventListener("mousemove",this.onMouseMove.bind(this)),this.el.addEventListener("mouseup",this.onMouseUp.bind(this)),this.opts.enablePageKeyNavigation){var l;switch(this.opts.keyEventSource){case"window":l=window;break;case"wrapper":l=this.el;break;default:l=window,console.warn('keyEventSource should be either "window" or "wrapper", not "'+this.opts.keyEventSource+'"')}l.addEventListener("keydown",this.onKeyDown.bind(this))}this.init()};r.prototype.on=function(t,i){this.console.log("On "+t+", do "+i),this._handlers[t]||(this._handlers[t]=[]),this._handlers[t].push(i)},r.prototype.off=function(t,i){if(this.console.log("Off "+t+", do "+i),this._handlers[t]){var e=this._handlers[t];if(this._handlers[t]=[],i)for(var n=0;n<e.length;n++)e[n]!=i&&this._handlers[t].push(e[n])}},r.prototype.trigger=function(t){if(this.console.log("Trigger "+t),this._handlers[t])for(var i=this._handlers[t],e=Array.prototype.slice.call(arguments,1),n=0;n<i.length;n++){var o=i[n];o.apply(this,e)}},r.prototype.init=function(){this.scrollTimeout=-1,this.currentSectionIndex=0,this.updateHeightMap(),this.mobileMediaQuery=window.matchMedia("only screen and (max-width: 529px), only screen and (min-width: 530px) and (max-width: 949px)"),this.isMobile=t.isMobile(),this.onHashChange(),this.trigger("initialized")},r.prototype.onKeyDown=function(t){function i(t){for(var i=-1,e=0;e<l.length;e++){var n=l[e];n>=t||(i=Math.max(i,n))}return i}function e(t){for(var i=Number.MAX_SAFE_INTEGER||Number.MAX_VALUE,e=0;e<l.length;e++){var n=l[e];t>=n||(i=Math.min(i,n))}return i}var n=this.currentSectionIndex,o=0===n?0:this._accumulated[n-1],s=this._accumulated[n]-window.innerHeight,a=this._accumulated[n],r=this.scrollTop-window.innerHeight,h=this.scrollTop+window.innerHeight,l=(0===n?0:this._accumulated[n-1]-window.innerHeight,[o,s,a,r,h]);switch(t.keyCode){case 33:t.preventDefault();var c=i(this.scrollTop);this.snapTo(c,!0);break;case 34:t.preventDefault();var d=e(this.scrollTop);this.snapTo(d,!0)}},r.prototype._preserveTopAfterScroll=function(t){function i(t,i){for(var e=i.offsetTop;i.offsetParent!=t;)i=i.offsetParent,e+=i.offsetTop;return e}if(t){var e=i(this.inner,t);this.snapTo(e,!this.isMobile)}},r.prototype.onResize=function(){if(this.scrollTimeout<0){var t=this.currentTopElement,i=this;this.scrollTimeout=setTimeout(function(){i._preserveTopAfterScroll(t),i.scrollTimeout=-1},300)}this.updateHeightMap(),this.trigger("resized")},r.prototype.onHashChange=function(t){var i=this._hashToIndex[location.hash.substr(1)];this._animation.shouldCancel=!0;var e=i>0?this._accumulated[i-1]:0;this.snapTo(e,!this.isMobile)},r.prototype.startAnimation=function(t,i,e){this._animation.lastTick=window.performance.now(),this._animation.animating=!0,this._animation.shouldCancel=!1,this._animation.tickCallback=t,this._animation.targetState=i,this._animation.completeCallback=e,requestAnimationFrame(this.tick.bind(this)),this.trigger("animation_start")},r.prototype.tick=function(t){if(this._animation.shouldCancel)return this.trigger("animation_cancelled");this._animation.animating=!0;var i=window.performance.now(),e=i-this._animation.lastTick;this._animation.lastTick=i;var n=this._animation.tickCallback(e),o=this._animation.targetState;Math.abs(n-o)>this._animation.epsilon?requestAnimationFrame(this.tick.bind(this)):(this._animation.completeCallback&&this._animation.completeCallback(),this._animation.animating=!1,this.trigger("animation_end"))},r.prototype.handleMoveStart=function(t,i){clearTimeout(this.idleTimer),this.indicator.activeAttr.value=!0,this.el.className+=" noselect",document.removeEventListener("scroll",this.onScroll.bind(this));var e=window.performance.now();this._movement.moving=!0,this._movement.lastPosition=this._movement.startPosition=t,this._movement.lastTime=this._movement.startTime=e,this._movement.updateScrollBar=i,this._animation.shouldCancel=!0,this.trigger("force_start",this._movement),this.trigger("move_start",this._movement)},r.prototype.updateMovement=function(t,i){{var e=this._movement.dY=t-this._movement.lastPosition,n=window.performance.now(),o=this._movement.dT=n-this._movement.lastTime;this._movement.velocity=e/o}this._movement.lastTime=n,this._movement.lastPosition=t,this._movement.updateScrollBar=i},r.prototype.scrollByDelta=function(t,i){var e=this.scrollTop,n=e-t;this.scrollTo(n,i)},r.prototype.handleMoveUpdate=function(t,i){this._movement.moving&&(this.updateMovement(t,i),this.scrollByDelta(this._movement.dY,i),this.trigger("force_update",this._movement))},r.prototype.handleMoveEnd=function(t){this.el.className=this.initialClassName,document.addEventListener("scroll",this.onScroll.bind(this)),this._movement.moving=!1,this.trigger("force_end",this._movement);var i=this;this.trigger("inertia_start",this._movement),this.startAnimation(function(t){var e=i._movement.velocity*t;return i.scrollByDelta(e,i._movement.updateScrollBar),i._movement.velocity*=i.opts.friction,(i.scrollTop<=-i.opts.maxEndSpringLength||i.scrollTop+window.innerHeight>i.totalHeight+i.opts.maxEndSpringLength*i.opts.overlapFactor)&&(i._movement.velocity=0),i._canSnap()&&Math.abs(i._movement.velocity)<i.opts.maxSnapableVelocity&&(i._movement.velocity=0),i._movement.velocity},0,i.onMovementComplete.bind(i))},r.prototype.onSnapComplete=function(){this.indicator.activeAttr.value=!1,this.trigger("snap_end"),this.trigger("move_end"),this._updateHash()},r.prototype._getSnapPosition=function(){var t;return this.scrollTop<0?t=0:this.scrollTop+window.innerHeight>this.totalHeight?t=this.totalHeight-window.innerHeight:this.opts.snapSectionTop&&this.visibleSectionBorderPos>0&&this.visibleSectionBorderPos<.3*window.innerHeight?t=this._accumulated[this.currentSectionIndex]:this.opts.snapSectionBottom&&this.visibleSectionBorderPos>.7*window.innerHeight&&this.visibleSectionBorderPos<window.innerHeight&&(t=this._accumulated[this.currentSectionIndex]-window.innerHeight),t},r.prototype._canSnap=function(){var t=this._getSnapPosition();return null!==t&&!isNaN(t)},r.prototype.onMovementComplete=function(){this.trigger("inertia_end",this._movement);var t=this._getSnapPosition();this.snapTo(t,this._movement.updateScrollBar)},r.prototype.snapTo=function(t,i){var e=this.opts.snapTime;if(this.trigger("snap_start",t),null===t||isNaN(t))this.onSnapComplete();else{var n=this,o=0,s=this.scrollTop,a=t-s;this.startAnimation(function(t){o+=t,f=Math.min(1,o/e);var r=s+f*f*a;return n.scrollTo(r,i),f},1,this.onSnapComplete.bind(this))}},r.prototype.onTouchStart=function(t){t.preventDefault(),this.handleMoveStart(t.pageY||t.touches[0].pageY||t.targetTouches[0].pageY,!1)},r.prototype.onTouchMove=function(t){this.handleMoveUpdate(t.pageY||t.touches[0].pageY||t.targetTouches[0].pageY,!1)},r.prototype.onTouchEnd=function(t){this.handleMoveEnd(t.clientY)},r.prototype.onMouseDown=function(t){this.handleMoveStart(t.clientY,!0)},r.prototype.onMouseMove=function(t){this.handleMoveUpdate(t.clientY,!0)},r.prototype.onMouseUp=function(t){this.handleMoveEnd(t.clientY)},r.prototype.updateHeightMap=function(){this._heights=[],this._accumulated=[],this._hashToIndex={},this._hashes=[];for(var t=0,i=0;i<this.sections.length;i++){var e=this.sections[i],n=e.clientHeight||e.offsetHeight,o=e.getAttribute("name")||this.opts.hashPrefix+i;e.style.top=t+"px",this._hashToIndex[o]=i,this._hashes.push(o),this._heights.push(n),t+=n,this._accumulated.push(t)}this.totalHeight=t,this.strecher.style.height=t+"px",this.indicator.style.height=window.innerHeight/this.totalHeight*window.innerHeight+"px"},r.prototype._updateHash=function(){var t="#"+this._hashes[this.currentSectionIndex];location.hash!==t&&history.pushState(null,null,t),this.trigger("hash_update",t)},r.prototype.scrollTo=function(t,i){function e(t,i){var e=t.style;e.transform=e["-webkit-transform"]=i}function n(t){for(var i=0;i<t.children.length;i++)h.push(t.children[i])}this.topOvershoot=this.bottomOvershoot=!1,t<-this.opts.maxEndSpringLength?(t=-this.opts.maxEndSpringLength,this.topOvershoot=!0):t+window.innerHeight>this.totalHeight+this.opts.maxEndSpringLength&&(t=this.totalHeight-window.innerHeight+this.opts.maxEndSpringLength,this.bottomOvershoot=!0);var o;for(o=0;o<this.sections.length&&!(t<this._accumulated[o]);o++);this.visibleSectionBorderPos=0>t?-t:this._accumulated[o]-t,this.sectionRemaining=this.visibleSectionBorderPos/this._heights[o],this.opts.autoSetHash&&this.currentSectionIndex!=o&&!this._animation.animating&&this._updateHash(),o!=this.currentSectionIndex&&(this.trigger("section_changing",o),this.currentSectionIndex=o,this.trigger("section_changed",o));var s=this.sections[o],a=this.sections[o+1],r=s,h=[s];n(s),a&&(h.push(a),n(a));for(var l=1,c=r.getBoundingClientRect().top;0>c&&l<h.length;){var d=h[l];if(childTop=d.getBoundingClientRect().top,r=d,childTop>=0)break;c=childTop,l++}if(this.currentTopElement=r,e(this.inner,"translateY("+-t+"px)"),t+window.innerHeight>this._accumulated[o]){var p=this._accumulated[o]-t,m=p/window.innerHeight;e(s,"translateY("+(1-m)*this.opts.overlapFactor*window.innerHeight+"px)"),a&&(e(a,"translateY(0)"),a.style["box-shadow"]="0 0px "+50*m+"px 1px rgba(0, 0, 0, 0.7)")}else if(0>t){var u=-t/window.innerHeight;s.style["box-shadow"]="0 0px "+50*u+"px 1px rgba(0, 0, 0, 0.7)"}else o!=this.sections.length-1&&e(s,"translateY(0)");this.indicator.style.top=t/this.totalHeight*window.innerHeight+"px",this.scrollTop=t,i&&(document.documentElement.scrollTop=document.body.scrollTop=t),this.trigger("scrolled",{scrollTop:t,sectionRemaining:this.sectionRemaining})},r.prototype.doScroll=function(){if(clearTimeout(this.idleTimer),!this._animation.animating){var t=document.documentElement.scrollTop||document.body.scrollTop;this.scrollTo(t);var i=this;this.idleTimer=setTimeout(function(){var t=i._getSnapPosition();i.snapTo(t,!0)},this.opts.idleTimeout)}},r.prototype.onScroll=function(t){this.doScroll()},t.FancyScroller=r}(window,document.querySelector.bind(document));